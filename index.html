<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Conference 2026</title>
<style>
:root{--accent-1:#ff758c;--accent-2:#ffb199;--card-bg:#ffffff;--muted:#6b6b6b;--radius:14px;}
*{box-sizing:border-box;}
body{margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial;background:linear-gradient(160deg,#fff6fb 0%,#fffaf0 50%,#f6fbff 100%);color:#222;-webkit-font-smoothing:antialiased;text-align:center;}
.container{max-width:1000px;margin:24px auto;padding:16px;}
.hero{background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:white;padding:28px 18px;border-radius:18px;box-shadow:0 8px 30px rgba(230,80,120,0.12);}
.logo{width:206px;height:96px;border-radius:18px;object-fit:cover;box-shadow:0 6px 18px rgba(0,0,0,0.12);}
.hero h1{margin:0;font-size:clamp(20px,3.6vw,32px);}
.hero p{margin:0;font-size:14px;opacity:0.95;}
.card{background:var(--card-bg);margin-top:18px;padding:18px;border-radius:var(--radius);box-shadow:0 8px 20px rgba(20,20,20,0.06);border-left:8px solid rgba(255,117,140,0.12);}
h2{margin:0 0 10px 0;color:#d14477;}
.muted{color:var(--muted);font-size:14px;}
.speaker{display:flex;gap:16px;align-items:center;margin-top:16px;justify-content:center;flex-wrap:wrap;}
.speaker img{width:140px;height:140px;border-radius:12px;object-fit:cover;}
.speaker .details h3{margin:0 0 6px 0;}
.bio{margin-top:8px;color:var(--muted);}
form{display:flex;flex-direction:column;gap:12px;align-items:center;text-align:center;}
input,select,textarea{padding:10px;border-radius:8px;border:1px solid #ccc;width:100%;max-width:400px;margin:0 auto;text-align:center;}
label{font-weight:500;margin-top:8px;}
.checkbox-group {display: flex;flex-direction: row;justify-content: center;gap: 12px;flex-wrap: wrap;}
.checkbox-group label {display: flex;align-items: center;gap: 6px;cursor: pointer;min-width: 120px;}
@media(max-width:500px){.checkbox-group {flex-direction: column; gap: 8px; align-items: flex-start;} .checkbox-group label {gap: 4px;}}
.btn{display:inline-block;padding:14px 24px;border-radius:12px;background:white;color:#d14477;font-weight:600;text-decoration:none;box-shadow:0 6px 18px rgba(209,68,119,0.12);cursor:pointer;transition:all 0.2s ease-in-out;font-size:18px;}
.btn:hover{transform:translateY(-2px);}
.hidden{display:none;}
.language-selection{text-align:center;margin-top:40px;}
.language-selection button{margin:12px;padding:12px 24px;font-size:16px;border-radius:12px;cursor:pointer;background:var(--accent-1);color:white;border:none;}
ul#scheduleList{text-align:left;display:inline-block;padding-left:20px;}
@media(max-width:700px){.speaker{flex-direction:column;align-items:center;text-align:center;}.speaker img{width:160px;height:160px;}}
footer{margin-top:40px;font-size:12px;color:var(--muted);}
</style>
</head>
<body>

<div class="container">

<!-- LANGUAGE SELECTION -->
<section id="languageSelection" class="language-selection">
  <div class="hero">
    <img src="logo.png" alt="Conference logo" class="logo">
    <h1 id="languageHeroTitle">Conference 2026</h1>
  </div>
  <h2>Select Language / Выберите язык</h2>
  <button onclick="setLanguage('en')">English</button>
  <button onclick="setLanguage('ru')">Русский</button>
</section>

<!-- MAIN PAGE -->
<div id="mainPage" class="hidden">

<!-- HERO -->
<section class="hero">
  <img src="logo.png" alt="Conference logo" class="logo">
  <h1 id="heroTitle">Conference 2026</h1>
  <p id="heroDate">Location • Saturday, Month Day, 2026 • 9:00 AM — 4:00 PM</p>
</section>

<!-- THEME & BIBLE VERSE -->
<section class="card">
  <h2 id="themeHeader">Conference Theme</h2>
  <p id="themeVerse">"Your Bible verse here"</p>
</section>

<!-- GUEST SPEAKER -->
<section class="card">
  <h2 id="speakerHeader">Guest Speaker</h2>
  <div class="speaker">
    <img src="guest.jpg" alt="Oksana Grabchuk">
    <div class="details">
      <h3 id="speakerName">Oksana Grabchuk</h3>
      <p class="muted" id="speakerRole">Pastor / Author / Speaker</p>
      <p class="bio" id="speakerBio">Oksana will share insights on spiritual growth, community building, and practical tools for daily renewal.</p>
    </div>
  </div>
</section>

<!-- SCHEDULE -->
<section class="card">
  <h2 id="scheduleHeader">Schedule</h2>
  <ul id="scheduleList"></ul>
</section>

<!-- SIGN UP -->
<section class="card">
  <h2 id="signupHeader">Sign Up</h2>
  <form id="signupForm">
    <label id="membershipLabel">Are you a member or non-member?</label>
    <select name="Membership" id="membershipType" required>
      <option value="">Select...</option>
      <option value="Member">Member</option>
      <option value="Non-Member">Non-Member</option>
    </select>
    <p class="muted" id="costDisplay">Select member type to see cost.</p>

    <input type="text" name="First Name" placeholder="First Name" required>
    <input type="text" name="Last Name" placeholder="Last Name" required>
    <input type="email" name="Email" placeholder="Email" required>
    <input type="tel" name="Phone" placeholder="Phone" required>

    <label id="daysLabel">Which days can you attend?</label>
    <div class="checkbox-group">
      <label>
        <input type="checkbox" name="Days" value="Friday">
        <span id="fridayText">Friday</span>
      </label>
      <label>
        <input type="checkbox" name="Days" value="Saturday">
        <span id="saturdayText">Saturday</span>
      </label>
    </div>

    <label id="paymentLabel">Payment Method</label>
    <select name="Payment Method" id="paymentMethod" required>
      <option value="">Select payment method</option>
      <option value="PayPal">PayPal</option>
      <option value="Cash">Cash</option>
    </select>

    <div id="paymentInstructions" class="muted hidden"></div>

    <button type="submit" class="btn" id="submitBtn">Submit Registration</button>
  </form>
  <p class="muted" id="formMessage"></p>
</section>

<!-- QUESTIONS -->
<section class="card">
  <h2 id="questionHeader">Submit a Question</h2>
  <form id="questionForm">
    <textarea name="Question" placeholder="Your question" rows="4" required></textarea>
    <button type="submit" class="btn" id="submitQuestionBtn">Submit Question</button>
    <p class="muted" id="questionMessage"></p>
  </form>
</section>

<footer>© 2025 Church Women's Conference. All Rights Reserved.</footer>

</div>

<script>
// --- Airtable ---
const airtableToken = "patggy7oHxwXm3DKU.53ec9f4db254b7bfec5a04be665764f22dcb9a0ed6c93318238912a9a8a58a4d";
const baseId = "appP2cm5hgmoANQ7i";
const tableRegistrations = "tblapX4iXV1bHPC6J";
const tableQuestions = "tblYxvkoQROYmY2ou";

// --- PayPal ---
const paypalLink = "https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=QVQ2374PSCCJN";

// --- Language Data ---
let selectedLang="en";
const languageData={/* keep same as your previous code */};

// --- Language Functions ---
function setLanguage(lang){
  selectedLang=lang;
  document.getElementById("languageSelection").classList.add("hidden");
  document.getElementById("mainPage").classList.remove("hidden");
  applyLanguage();
}
function applyLanguage(){ /* keep same as your previous code */ }

// --- Cost Display ---
const membershipType=document.getElementById('membershipType');
const costDisplay=document.getElementById('costDisplay');
membershipType.addEventListener('change',()=>{ /* keep same logic */ });

// --- Payment Instructions ---
const paymentMethodSelect=document.getElementById('paymentMethod');
const paymentInstructions=document.getElementById('paymentInstructions');
paymentMethodSelect.addEventListener('change',()=>{ /* keep same logic */ });

// --- Sign Up Form Submission ---
const signupForm = document.getElementById('signupForm');
const submitBtn = document.getElementById('submitBtn');
const formMessage = document.getElementById('formMessage');

signupForm.addEventListener('submit', async (e) => {
  e.preventDefault();

  const dataForm = new FormData(signupForm);
  const payload = {
      "Membership": dataForm.get("Membership"),
      "First Name": dataForm.get("First Name"),
      "Last Name": dataForm.get("Last Name"),
      "Email": dataForm.get("Email"),
      "Phone": dataForm.get("Phone"),
      "Days": dataForm.getAll("Days"),
      "Payment Method": dataForm.get("Payment Method")
  };

  // --- Open PayPal if selected ---
  if (paymentMethodSelect.value === "PayPal") {
      window.open(paypalLink, "_blank");
      formMessage.textContent = "Opening PayPal...";
  } else {
      formMessage.textContent = "Submitting registration...";
  }

  // --- Submit to Airtable in background ---
  try {
      const res = await fetch(`https://api.airtable.com/v0/${baseId}/${tableRegistrations}`,{
          method:'POST',
          headers:{
              Authorization:`Bearer ${airtableToken}`,
              'Content-Type':'application/json'
          },
          body:JSON.stringify({fields:payload})
      });

      if(res.ok){
          signupForm.reset();
          costDisplay.textContent="Select member type to see cost.";
          paymentInstructions.classList.add('hidden');
          if(paymentMethodSelect.value === "PayPal") {
              formMessage.textContent = "Airtable submitted! Complete payment in the PayPal tab.";
          } else {
              formMessage.textContent = "Registration submitted!";
          }
      } else {
          const err = await res.json();
          formMessage.textContent = "Error: " + err.error?.message;
      }
  } catch(err){
      formMessage.textContent = "Error submitting form.";
  }
});

// --- Question Form Submission ---
document.getElementById('questionForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const msg=document.getElementById('questionMessage');
  msg.textContent="Submitting...";
  const dataForm=new FormData(e.target);
  const question=dataForm.get('Question');
  try{
    const res=await fetch(`https://api.airtable.com/v0/${baseId}/${tableQuestions}`,{
      method:'POST',
      headers:{Authorization:`Bearer ${airtableToken}`, 'Content-Type':'application/json'},
      body:JSON.stringify({fields:{Question:question}})
    });
    if(res.ok){msg.textContent="Thank you! Your question has been submitted."; e.target.reset();}
    else {const err=await res.json(); msg.textContent="Error: "+err.error?.message;}
  }catch(err){msg.textContent="Error submitting question.";}
});
</script>

</body>
</html>
