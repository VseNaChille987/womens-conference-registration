<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Church Women's Conference</title>
<style>
:root{--accent-1:#ff758c;--accent-2:#ffb199;--card-bg:#ffffff;--muted:#6b6b6b;--radius:14px;}
*{box-sizing:border-box;}
body{margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial;background:linear-gradient(160deg,#fff6fb 0%,#fffaf0 50%,#f6fbff 100%);color:#222;-webkit-font-smoothing:antialiased;}
.container{max-width:1000px;margin:24px auto;padding:16px;}
.hero{background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:white;padding:28px 18px;border-radius:18px;text-align:center;box-shadow:0 8px 30px rgba(230,80,120,0.12);}
.logo{width:206px;height:96px;border-radius:18px;object-fit:cover;box-shadow:0 6px 18px rgba(0,0,0,0.12);}
.hero h1{margin:0;font-size:clamp(20px,3.6vw,32px);}
.hero p{margin:0;font-size:14px;opacity:0.95;}
.card{background:var(--card-bg);margin-top:18px;padding:18px;border-radius:var(--radius);box-shadow:0 8px 20px rgba(20,20,20,0.06);border-left:8px solid rgba(255,117,140,0.12);}
h2{margin:0 0 10px 0;color:#d14477;}
.muted{color:var(--muted);font-size:14px;}
.speaker{display:flex;gap:16px;align-items:center;margin-top:16px;}
.speaker img{width:140px;height:140px;border-radius:12px;object-fit:cover;}
.speaker .details h3{margin:0 0 6px 0;}
.bio{margin-top:8px;color:var(--muted);}
form{display:flex;flex-direction:column;gap:12px;}
input,select,textarea{padding:10px;border-radius:8px;border:1px solid #ccc;width:100%;}
label{font-weight:500;margin-top:8px;}
.checkbox-group{display:flex;gap:12px;flex-wrap:wrap;}
.btn{display:inline-block;padding:12px 18px;border-radius:12px;background:white;color:#d14477;font-weight:600;text-decoration:none;box-shadow:0 6px 18px rgba(209,68,119,0.12);cursor:pointer;transition:all 0.2s ease-in-out;}
.btn:hover{transform:translateY(-2px);}
.hidden{display:none;}
.language-selection{text-align:center;margin-top:40px;}
.language-selection button{margin:12px;padding:12px 24px;font-size:16px;border-radius:12px;cursor:pointer;background:var(--accent-1);color:white;border:none;}
@media(max-width:700px){.speaker{flex-direction:column;align-items:center;text-align:center;}.speaker img{width:160px;height:160px;}}
</style>
</head>
<body>

<div class="container">

<!-- LANGUAGE SELECTION -->
<section id="languageSelection" class="language-selection">
  <div class="hero">
    <img src="logo.png" alt="Conference logo" class="logo">
    <h1 id="languageHeroTitle">Church Women’s Conference</h1>
  </div>
  <h2>Select Language / Выберите язык</h2>
  <button onclick="setLanguage('en')">English</button>
  <button onclick="setLanguage('ru')">Русский</button>
</section>

<!-- MAIN PAGE -->
<div id="mainPage" class="hidden">

<!-- HERO -->
<section class="hero">
  <img src="logo.png" alt="Conference logo" class="logo">
  <h1 id="heroTitle">Church Women’s Conference</h1>
  <p id="heroDate">Location • Saturday, Month Day, 2026 • 9:00 AM — 4:00 PM</p>
</section>

<!-- SPEAKER -->
<section class="card">
  <h2 id="speakerHeader">Guest Speaker</h2>
  <div class="speaker">
    <img src="guest.jpg" alt="Oksana Grabchuk">
    <div class="details">
      <h3 id="speakerName">Oksana Grabchuk</h3>
      <p class="muted" id="speakerRole">Pastor / Author / Speaker</p>
      <p class="bio" id="speakerBio">Oksana will share insights on spiritual growth, community building, and practical tools for daily renewal.</p>
    </div>
  </div>
</section>

<!-- SIGN UP -->
<section class="card">
  <h2 id="signupHeader">Sign Up</h2>
  <form id="signupForm">
    <label id="membershipLabel">Are you a member or non-member?</label>
    <select name="membershipType" id="membershipType" required>
      <option value="">Select...</option>
      <option value="Member" id="memberOption">Member</option>
      <option value="Non-Member" id="nonMemberOption">Non-Member</option>
    </select>
    <p class="muted" id="costDisplay">Select member type to see cost.</p>

    <input type="text" name="firstName" placeholder="First Name" required>
    <input type="text" name="lastName" placeholder="Last Name" required>
    <input type="email" name="email" placeholder="Email" required>
    <input type="tel" name="phone" placeholder="Phone" required>

    <label id="daysLabel">Which days can you attend?</label>
    <div class="checkbox-group">
      <label><input type="checkbox" name="days" value="Friday"> <span id="fridayText">Friday</span></label>
      <label><input type="checkbox" name="days" value="Saturday"> <span id="saturdayText">Saturday</span></label>
    </div>

    <label id="paymentLabel">Payment Method</label>
    <select name="paymentMethod" id="paymentMethod" required>
      <option value="">Select payment method</option>
      <option value="PayPal">PayPal</option>
      <option value="Cash">Cash</option>
    </select>

    <div id="paymentInstructions" class="muted hidden"></div>

    <button type="submit" class="btn" id="submitBtn">Submit Registration</button>
  </form>
  <p class="muted" id="formMessage"></p>
</section>

<!-- QUESTIONS -->
<section class="card">
  <h2 id="questionHeader">Submit a Question</h2>
  <form id="questionForm">
    <textarea name="question" placeholder="Your question" rows="4" required></textarea>
    <button type="submit" class="btn" id="submitQuestionBtn">Submit Question</button>
    <p class="muted" id="questionMessage"></p>
  </form>
</section>

</div>
</div>

<script>
const airtableToken = "patggy7oHxwXm3DKU.53ec9f4db254b7bfec5a04be665764f22dcb9a0ed6c93318238912a9a8a58a4d";
const baseId = "appP2cm5hgmoANQ7i";
const tableRegistrations = "tblapX4iXV1bHPC6J";
const tableQuestions = "tblYxvkoQROYmY2ou";

// --- LANGUAGE DATA ---
const languageData = {
  en: {
    heroTitle: "Church Women’s Conference",
    heroDate: "Location • Saturday, Month Day, 2026 • 9:00 AM — 4:00 PM",
    speakerHeader: "Guest Speaker",
    speakerRole: "Pastor / Author / Speaker",
    speakerBio: "Oksana will share insights on spiritual growth, community building, and practical tools for daily renewal.",
    signupHeader: "Sign Up",
    membershipLabel: "Are you a member or non-member?",
    daysLabel: "Which days can you attend?",
    fridayText: "Friday",
    saturdayText: "Saturday",
    paymentLabel: "Payment Method",
    submitBtn: "Submit Registration",
    questionHeader: "Submit a Question",
    submitQuestionBtn: "Submit Question",
    costMember: "Cost: $50",
    costNonMember: "Cost: $70",
    cashInstructions: "Please bring cash to registration table.",
    selectCost: "Select member type to see cost.",
    submitting: "Submitting...",
    submittedPaypal: "Registration sent! Redirecting to PayPal...",
    submittedCash: "Registration submitted!",
    errorSubmit: "Error submitting form.",
    memberOption: "Member",
    nonMemberOption: "Non-Member",
    firstNamePlaceholder: "First Name",
    lastNamePlaceholder: "Last Name",
    emailPlaceholder: "Email",
    phonePlaceholder: "Phone",
    questionPlaceholder: "Your question"
  },
  ru: {
    heroTitle: "Женская конференция церкви",
    heroDate: "Место проведения • Суббота, Месяц День, 2026 • 9:00 — 16:00",
    speakerHeader: "Приглашенный спикер",
    speakerRole: "Пастор / Автор / Спикер",
    speakerBio: "Оксана поделится духовным ростом, построением общины и практическими инструментами для ежедневного обновления.",
    signupHeader: "Регистрация",
    membershipLabel: "Вы участник или не участник?",
    daysLabel: "В какие дни вы можете присутствовать?",
    fridayText: "Пятница",
    saturdayText: "Суббота",
    paymentLabel: "Способ оплаты",
    submitBtn: "Отправить регистрацию",
    questionHeader: "Задать вопрос",
    submitQuestionBtn: "Отправить вопрос",
    costMember: "Стоимость: $50",
    costNonMember: "Стоимость: $70",
    cashInstructions: "Пожалуйста, принесите наличные на регистрационный стол.",
    selectCost: "Выберите тип участника, чтобы увидеть стоимость.",
    submitting: "Отправка...",
    submittedPaypal: "Регистрация отправлена! Перенаправление на PayPal...",
    submittedCash: "Регистрация отправлена!",
    errorSubmit: "Ошибка при отправке формы.",
    memberOption: "Участник",
    nonMemberOption: "Не участник",
    firstNamePlaceholder: "Имя",
    lastNamePlaceholder: "Фамилия",
    emailPlaceholder: "Эл. почта",
    phonePlaceholder: "Телефон",
    questionPlaceholder: "Ваш вопрос"
  }
};

let selectedLang = "en";

// --- LANGUAGE SELECT ---
function setLanguage(lang){
  selectedLang = lang;
  document.getElementById("languageSelection").classList.add("hidden");
  document.getElementById("mainPage").classList.remove("hidden");
  applyLanguage();
}

function applyLanguage(){
  const data = languageData[selectedLang];

  // Update main texts
  document.getElementById("heroTitle").textContent = data.heroTitle;
  document.getElementById("heroDate").textContent = data.heroDate;
  document.getElementById("speakerHeader").textContent = data.speakerHeader;
  document.getElementById("speakerRole").textContent = data.speakerRole;
  document.getElementById("speakerBio").textContent = data.speakerBio;
  document.getElementById("signupHeader").textContent = data.signupHeader;
  document.getElementById("membershipLabel").textContent = data.membershipLabel;
  document.getElementById("daysLabel").textContent = data.daysLabel;
  document.getElementById("fridayText").textContent = data.fridayText;
  document.getElementById("saturdayText").textContent = data.saturdayText;
  document.getElementById("paymentLabel").textContent = data.paymentLabel;
  document.getElementById("submitBtn").textContent = data.submitBtn;
  document.getElementById("questionHeader").textContent = data.questionHeader;
  document.getElementById("submitQuestionBtn").textContent = data.submitQuestionBtn;

  // Update dropdown
  const membershipSelect = document.getElementById('membershipType');
  membershipSelect.options[0].textContent = data.selectCost;
  membershipSelect.options[1].textContent = data.memberOption;
  membershipSelect.options[2].textContent = data.nonMemberOption;

  // Update placeholders
  document.querySelector('input[name="firstName"]').placeholder = data.firstNamePlaceholder;
  document.querySelector('input[name="lastName"]').placeholder = data.lastNamePlaceholder;
  document.querySelector('input[name="email"]').placeholder = data.emailPlaceholder;
  document.querySelector('input[name="phone"]').placeholder = data.phonePlaceholder;
  document.querySelector('textarea[name="question"]').placeholder = data.questionPlaceholder;

  // Update first page header
  document.getElementById("languageHeroTitle").textContent = data.heroTitle;

  // Reset cost display
  document.getElementById("costDisplay").textContent = data.selectCost;
}

// --- COST DISPLAY ---
const costDisplay = document.getElementById('costDisplay');
const membershipTypeSelect = document.getElementById('membershipType');
membershipTypeSelect.addEventListener('change', () => {
  const data = languageData[selectedLang];
  costDisplay.textContent = membershipTypeSelect.value === "Member" ? data.costMember
    : membershipTypeSelect.value === "Non-Member" ? data.costNonMember
    : data.selectCost;
});

// --- PAYMENT INSTRUCTIONS ---
const paymentMethodSelect = document.getElementById('paymentMethod');
const paymentInstructions = document.getElementById('paymentInstructions');
const paypalLink = "https://www.paypal.com/donate?token=CvoGFrxQa-Zj7ZXYH6xH5YvuqjivrARQdnwxkkXz5X85dtGKXRgW1UhkHZNCrCihlgZ0-Bl310FC3za-#";

paymentMethodSelect.addEventListener('change', () => {
  paymentInstructions.classList.add('hidden');
  if(paymentMethodSelect.value==="Cash"){
    paymentInstructions.textContent = languageData[selectedLang].cashInstructions;
    paymentInstructions.classList.remove('hidden');
  }
});

// --- SIGNUP FORM SUBMISSION ---
document.getElementById('signupForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const formMessage = document.getElementById('formMessage');
  formMessage.textContent = languageData[selectedLang].submitting;

  const dataForm = new FormData(e.target);
  const payload = {};

  const dayMapping = {"Friday":"Friday","Saturday":"Saturday"}; // Adjust if needed
  dataForm.forEach((value,key)=>{
    switch(key){
      case 'membershipType':
        payload['Membership'] = value;
        break;
      case 'firstName':
        payload['First Name'] = value;
        break;
      case 'lastName':
        payload['Last Name'] = value;
        break;
      case 'email':
        payload['Email'] = value;
        break;
      case 'phone':
        payload['Phone'] = value;
        break;
      case 'days':
        if(!payload['Days']) payload['Days'] = [];
        payload['Days'].push(dayMapping[value] || value);
        break;
      case 'paymentMethod':
        payload['Payment Method'] = value;
        break;
      default:
        payload[key] = value;
    }
  });

  try{
    const res = await fetch(`https://api.airtable.com/v0/${baseId}/${tableRegistrations}`, {
      method:'POST',
      headers:{
        Authorization: `Bearer ${airtableToken}`,
        'Content-Type':'application/json'
      },
      body: JSON.stringify({fields: payload})
    });

    if(res.ok){
      e.target.reset();
      costDisplay.textContent = languageData[selectedLang].selectCost;
      paymentInstructions.classList.add('hidden');

      if(paymentMethodSelect.value==="PayPal"){
        formMessage.textContent = languageData[selectedLang].submittedPaypal;
        window.open(paypalLink,"_blank");
      } else {
        formMessage.textContent = languageData[selectedLang].submittedCash;
      }
    } else {
      const err = await res.json();
      formMessage.textContent = languageData[selectedLang].errorSubmit + " " + (err.error?.message || "");
    }
  }catch(err){
    formMessage.textContent = languageData[selectedLang].errorSubmit;
  }
});

// --- QUESTION FORM SUBMISSION ---
document.getElementById('questionForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const msg = document.getElementById('questionMessage');
  msg.textContent=languageData[selectedLang].submitting;
  const dataForm = new FormData(e.target);
  const question = dataForm.get('question');

  try{
    const res = await fetch(`https://api.airtable.com/v0/${baseId}/${tableQuestions}`, {
      method:'POST',
      headers:{
        Authorization: `Bearer ${airtableToken}`,
        'Content-Type':'application/json'
      },
      body: JSON.stringify({fields:{Question: question}})
    });

    if(res.ok){
      msg.textContent=languageData[selectedLang].submittedCash;
      e.target.reset();
    } else {
      const err = await res.json();
      msg.textContent="Error: "+err.error?.message;
    }

  }catch(err){
    msg.textContent="Error submitting question.";
  }
});
</script>

</body>
</html>
