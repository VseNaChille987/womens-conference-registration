<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Church Women's Conference</title>
<style>
:root{--accent-1:#ff758c;--accent-2:#ffb199;--card-bg:#ffffff;--muted:#6b6b6b;--radius:14px;}
*{box-sizing:border-box;}
body{margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial;background:linear-gradient(160deg,#fff6fb 0%,#fffaf0 50%,#f6fbff 100%);color:#222;-webkit-font-smoothing:antialiased;}
.container{max-width:1000px;margin:24px auto;padding:16px;}
.hero{background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:white;padding:28px 18px;border-radius:18px;text-align:center;box-shadow:0 8px 30px rgba(230,80,120,0.12);}
.logo{width:206px;height:96px;border-radius:18px;object-fit:cover;box-shadow:0 6px 18px rgba(0,0,0,0.12);}
.hero h1{margin:0;font-size:clamp(20px,3.6vw,32px);}
.hero p{margin:0;font-size:14px;opacity:0.95;}
.card{background:var(--card-bg);margin-top:18px;padding:18px;border-radius:var(--radius);box-shadow:0 8px 20px rgba(20,20,20,0.06);border-left:8px solid rgba(255,117,140,0.12);}
h2{margin:0 0 10px 0;color:#d14477;}
.muted{color:var(--muted);font-size:14px;}
.speaker{display:flex;gap:16px;align-items:center;margin-top:16px;}
.speaker img{width:140px;height:140px;border-radius:12px;object-fit:cover;}
.speaker .details h3{margin:0 0 6px 0;}
.bio{margin-top:8px;color:var(--muted);}
form{display:flex;flex-direction:column;gap:12px;}
input,select,textarea{padding:10px;border-radius:8px;border:1px solid #ccc;width:100%;}
label{font-weight:500;margin-top:8px;}
.checkbox-group{display:flex;gap:12px;flex-wrap:wrap;}
.btn{display:inline-block;padding:12px 18px;border-radius:12px;background:white;color:#d14477;font-weight:600;text-decoration:none;box-shadow:0 6px 18px rgba(209,68,119,0.12);cursor:pointer;transition:all 0.2s ease-in-out;}
.btn:hover{transform:translateY(-2px);}
.hidden{display:none;}
#paymentQR{margin-top:12px;width:200px;height:200px;}
@media(max-width:700px){.speaker{flex-direction:column;align-items:center;text-align:center;}.speaker img{width:160px;height:160px;}}
</style>
</head>
<body>
<div class="container">

<!-- HERO -->
<section class="hero">
  <img src="logo.png" alt="Conference logo" class="logo">
  <h1>Church Women’s Conference</h1>
  <p>Location • Saturday, Month Day, 2026 • 9:00 AM — 4:00 PM</p>
</section>

<!-- SPEAKER -->
<section class="card">
  <h2>Guest Speaker</h2>
  <div class="speaker">
    <img src="guest.jpg" alt="Oksana Grabchuk">
    <div class="details">
      <h3>Oksana Grabchuk</h3>
      <p class="muted">Pastor / Author / Speaker</p>
      <p class="bio">Oksana will share insights on spiritual growth, community building, and practical tools for daily renewal. Attendees will leave inspired and equipped to live their faith boldly.</p>
    </div>
  </div>
</section>

<!-- SIGN UP -->
<section class="card">
  <h2>Sign Up</h2>
  <form id="signupForm">
    <label>Are you a member or non-member?</label>
    <select name="membershipType" id="membershipType" required>
      <option value="">Select...</option>
      <option value="Member">Member</option>
      <option value="Non-Member">Non-Member</option>
    </select>
    <p class="muted" id="costDisplay">Select member type to see cost.</p>

    <input type="text" name="firstName" placeholder="First Name" required>
    <input type="text" name="lastName" placeholder="Last Name" required>
    <input type="email" name="email" placeholder="Email" required>
    <input type="tel" name="phone" placeholder="Phone" required>

    <label>Which days can you attend?</label>
    <div class="checkbox-group">
      <label><input type="checkbox" name="days" value="Friday"> Friday</label>
      <label><input type="checkbox" name="days" value="Saturday"> Saturday</label>
    </div>

    <label>Payment Method</label>
    <select name="paymentMethod" id="paymentMethod" required>
      <option value="">Select payment method</option>
      <option value="PayPal">PayPal</option>
      <option value="Venmo">Venmo</option>
      <option value="Cash">Cash</option>
    </select>

    <div id="paymentInstructions" class="muted hidden"></div>
    <img id="paymentQR" class="hidden" alt="Payment QR code">

    <button type="submit" class="btn">Submit Registration</button>
  </form>
  <p class="muted" id="formMessage"></p>
</section>

<!-- QUESTIONS -->
<section class="card">
  <h2>Submit a Question</h2>
  <form id="questionForm">
    <textarea name="question" placeholder="Your question" rows="4" required></textarea>
    <button type="submit" class="btn">Submit Question</button>
    <p class="muted" id="questionMessage"></p>
  </form>
</section>

</div>

<script>
// Membership cost display
const membershipType = document.getElementById('membershipType');
const costDisplay = document.getElementById('costDisplay');
membershipType.addEventListener('change', () => {
  if (membershipType.value === "Member") costDisplay.textContent = "Cost: $50";
  else if (membershipType.value === "Non-Member") costDisplay.textContent = "Cost: $70";
  else costDisplay.textContent = "Select member type to see cost.";
});

// Payment instructions and QR
const paymentMethodSelect = document.getElementById('paymentMethod');
const paymentInstructions = document.getElementById('paymentInstructions');
const paymentQR = document.getElementById('paymentQR');
let currentPaymentLink = '';

paymentMethodSelect.addEventListener('change', () => {
  const val = paymentMethodSelect.value;
  paymentQR.classList.add('hidden');
  paymentInstructions.classList.add('hidden');

  if (val === 'PayPal') {
    currentPaymentLink = "https://www.paypal.com/paypalme/YOUR_PAYPAL_LINK";
    paymentInstructions.innerHTML = 'Scan this QR code or click the link to pay via PayPal.';
    paymentInstructions.classList.remove('hidden');
    paymentQR.src = `https://chart.googleapis.com/chart?cht=qr&chl=${encodeURIComponent(currentPaymentLink)}&chs=200x200&chld=L|0`;
    paymentQR.classList.remove('hidden');
  } else if (val === 'Venmo') {
    currentPaymentLink = "https://venmo.com/YOUR_VENMO_HANDLE";
    paymentInstructions.innerHTML = 'Scan this QR code or click the link to pay via Venmo.';
    paymentInstructions.classList.remove('hidden');
    paymentQR.src = `https://chart.googleapis.com/chart?cht=qr&chl=${encodeURIComponent(currentPaymentLink)}&chs=200x200&chld=L|0`;
    paymentQR.classList.remove('hidden');
  } else if (val === 'Cash') {
    currentPaymentLink = '';
    paymentInstructions.innerHTML = 'Please bring cash to [Person/Location Name] at [Location].';
    paymentInstructions.classList.remove('hidden');
  } else {
    currentPaymentLink = '';
  }
});

// Sign-up form submission with auto-payment redirect
document.getElementById('signupForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const formMessage = document.getElementById('formMessage');
  formMessage.textContent = "Submitting...";

  const data = new FormData(e.target);
  const payload = {};
  data.forEach((value, key) => {
    if (key === 'days') {
      if (!payload[key]) payload[key] = [];
      payload[key].push(value);
    } else {
      payload[key] = value;
    }
  });

  try {
    const res = await fetch('https://script.google.com/macros/s/AKfycbxLMpeFNe4ALEWfTjp4AbORKxCCPXvzdYLhi6ekj2N00FI6qelPwhessEZWTa4Kt20/exec', {
      method: 'POST',
      body: JSON.stringify(payload),
      headers: { 'Content-Type': 'application/json' }
    });

    const result = await res.json();
    console.log("Server response:", result);

    if (result.status === 'success') {
      formMessage.textContent = "Thank you! Preparing payment...";
      e.target.reset();
      costDisplay.textContent = "Select member type to see cost.";
      paymentInstructions.classList.add('hidden');
      paymentQR.classList.add('hidden');

      if (currentPaymentLink) {
        paymentQR.src = `https://chart.googleapis.com/chart?cht=qr&chl=${encodeURIComponent(currentPaymentLink)}&chs=200x200&chld=L|0`;
        paymentQR.classList.remove('hidden');
        paymentInstructions.innerHTML = `Redirecting to payment... If not redirected, scan the QR code.`;
        paymentInstructions.classList.remove('hidden');

        setTimeout(() => {
          window.location.href = currentPaymentLink;
        }, 1500);
      } else if (payload.paymentMethod === 'Cash') {
        formMessage.textContent = "Thank you! Please bring cash to the event.";
      }

    } else {
      formMessage.textContent = "Error: " + result.message;
    }

  } catch (err) {
    console.error("Fetch error:", err);
    formMessage.textContent = "Error submitting form. Check console for details.";
  }
});

// Questions form submission
document.getElementById('questionForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const msg = document.getElementById('questionMessage');
  msg.textContent = "Submitting...";
  const data = new FormData(e.target);
  const payload = { question: data.get('question') };

  try {
    const res = await fetch('https://script.google.com/macros/s/AKfycbxLMpeFNe4ALEWfTjp4AbORKxCCPXvzdYLhi6ekj2N00FI6qelPwhessEZWTa4Kt20/exec', {
      method: 'POST',
      body: JSON.stringify(payload),
      headers: { 'Content-Type': 'application/json' }
    });

    const result = await res.json();
    console.log("Question response:", result);
    if (result.status === 'success') {
      msg.textContent = "Thank you! Your question has been submitted.";
      e.target.reset();
    } else {
      msg.textContent = "Error: " + result.message;
    }
  } catch (err) {
    console.error("Fetch error:", err);
    msg.textContent = "Error submitting question. Check console for details.";
  }
});
</script>
</body>
</html>
